@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  * { box-sizing: border-box; }
  html, body, #root { height: 100%; margin: 0; padding: 0; }
  body {
    background-color: #313338;
    color: #dbdee1;
    font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', Roboto, Oxygen, Ubuntu, Cantarell, sans-serif;
    font-size: 16px;
    line-height: 1.5;
    overflow: hidden;
    -webkit-font-smoothing: antialiased;
  }
  ::-webkit-scrollbar { width: 8px; height: 8px; }
  ::-webkit-scrollbar-track { background: transparent; }
  ::-webkit-scrollbar-thumb { background: #1a1b1e; border-radius: 4px; border: 2px solid transparent; background-clip: content-box; }
  ::-webkit-scrollbar-thumb:hover { background: #111214; background-clip: content-box; }
  ::selection { background: rgba(88, 101, 242, 0.4); }
}

@layer components {
  .message-content { @apply text-text-normal leading-relaxed; word-wrap: break-word; white-space: pre-wrap; }
  .message-content p { margin: 0; }
  .message-content code { @apply bg-bg-floating text-orange-300 font-mono text-sm px-1 py-0.5 rounded; }
  .message-content pre { @apply bg-bg-floating rounded-md p-3 my-1 overflow-x-auto; font-family: 'Courier New', monospace; font-size: 0.875rem; white-space: pre; }
  .message-content pre code { @apply bg-transparent text-text-normal p-0; }
  .message-content blockquote { @apply border-l-4 border-interactive-muted pl-3 my-1 text-text-muted; }
  .message-content strong { @apply font-bold text-white; }
  .message-content em { @apply italic; }
  .message-content del { @apply line-through; }
  .message-content a { @apply text-text-link hover:underline; }
  .message-content .spoiler { @apply bg-text-muted/30 text-transparent rounded cursor-pointer select-none transition-all; }
  .message-content .spoiler.revealed { @apply bg-bg-floating text-text-normal; }
  .mention { @apply bg-brand/20 text-brand rounded px-0.5 cursor-pointer hover:bg-brand hover:text-white transition-colors; }
  .emoji-custom { @apply inline-block w-5 h-5 align-middle mx-0.5; }
}
